<div class="container">
  <div class="row">
    <div class="col-9" style="margin-top: 50px;">


      <form [formGroup]="registerForm">

        <div class="input-field">
          <mat-form-field appearance="outline">
            <mat-label>Name</mat-label>
            <input trim required [(ngModel)]="user.name" formControlName="name" matInput placeholder="Name">
            <mat-error *ngIf="registerForm.controls['name'].errors && registerForm.controls['name'].touched">Name is required</mat-error>
          </mat-form-field>
        </div>

        <div class="input-field">
          <mat-form-field appearance="outline">
            <mat-label>Surname</mat-label>
            <input trim required [(ngModel)]="user.surname" formControlName="surname" matInput placeholder="Surname">
            <mat-error *ngIf="registerForm.controls['surname'].errors && registerForm.controls['surname'].touched">Surname is required</mat-error>
          </mat-form-field>
        </div>

        <div class="input-field">
          <mat-form-field appearance="outline">
            <mat-label>Email</mat-label>
            <input trim required [(ngModel)]="user.email" type="email" formControlName="email" matInput placeholder="Email">
            <mat-error *ngIf="registerForm.controls['email'].errors && registerForm.controls['email'].touched">Email is required</mat-error>
          </mat-form-field>
        </div>

        <div class="input-field">
          <mat-form-field appearance="outline">
            <mat-label>Phone</mat-label>
            <input trim formControlName="phone" [(ngModel)]="user.phone" matInput placeholder="Phone">
            <mat-error *ngIf="registerForm.controls['phone'].errors && registerForm.controls['phone'].touched">Phone field can containt only numbers, space and  + ( ) -</mat-error>
          </mat-form-field>
        </div>

        <div formGroupName="pass">
          <div class="input-field">
            <mat-form-field appearance="outline">
              <mat-label>Password</mat-label>
              <input trim required type="password" [(ngModel)]="user.password" formControlName="password" matInput placeholder="Password">
              <mat-error *ngIf="registerForm.get('pass.password').errors && registerForm.get('pass.password').touched">Password is required</mat-error>
            </mat-form-field>
          </div>


          <div class="input-field">
            <mat-form-field appearance="outline">
              <mat-label>Confirm Password</mat-label>
              <input trim required type="password" formControlName="confirmPassword" matInput placeholder="Confirm Password"
                     [errorStateMatcher]="matcher">
              <mat-error *ngIf="registerForm.get('pass').errors && registerForm.get('pass.confirmPassword').touched">Passwords do not match</mat-error>
            </mat-form-field>
          </div>
        </div>

        <div class="input-field">
          <mat-radio-group [(ngModel)]="user.pet" formControlName="pet" aria-label="Pet">
            <mat-radio-button value="dog">Dog</mat-radio-button>
            <mat-radio-button value="cat">Cat</mat-radio-button>
            <mat-radio-button value="other">Other</mat-radio-button>
          </mat-radio-group>
        </div>

        <div formGroupName="address">
          <h4 style="margin-top: 10px;">Address</h4>

          <div class="input-field">
            <mat-form-field appearance="outline">
              <mat-label>City</mat-label>
              <input trim [(ngModel)]="user.address.city" required formControlName="city" matInput placeholder="City">
              <mat-error *ngIf="registerForm.get('address.city').errors && registerForm.get('address.city').touched">City is required</mat-error>
            </mat-form-field>
          </div>

          <div class="input-field">
            <mat-form-field appearance="outline">
              <mat-label>Street</mat-label>
              <input trim required [(ngModel)]="user.address.street" formControlName="street" matInput placeholder="Street">
              <mat-error *ngIf="registerForm.get('address.street').errors && registerForm.get('address.street').touched">Street is required</mat-error>
            </mat-form-field>
          </div>

          <div class="input-field">
            <mat-form-field appearance="outline">
              <mat-label>Building</mat-label>
              <input trim [(ngModel)]="user.address.building" formControlName="building" matInput placeholder="Building">
            </mat-form-field>
          </div>

          <div class="input-field">
            <mat-form-field appearance="outline">
              <mat-label>FlatNo</mat-label>
              <input trim [(ngModel)]="user.address.flatNo" formControlName="flatNo" matInput placeholder="FlatNo">
            </mat-form-field>
          </div>

        </div>

        <div formGroupName="consents">
          <h4 style="margin: 10px 0;">Consents</h4>
          <mat-checkbox [(ngModel)]="user.consents.newsletter" formControlName="newsletter">Newsletter</mat-checkbox>
          <mat-checkbox [(ngModel)]="user.consents.sms" *ngIf="!registerForm.get('phone').errors && registerForm.get('phone').dirty" formControlName="sms">Sms</mat-checkbox>


        </div>


      </form>

      <button mat-raised-button class="submit-button" (click)="display()" [disabled]="!registerForm.valid" color="primary">Submit</button>

    </div>
  </div>
</div>
